<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Production Report Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #3498db;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        h1 i {
            color: #e74c3c;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        .app-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 1024px) {
            .app-container {
                grid-template-columns: 1fr;
            }
        }
        
        .input-section {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            padding: 25px;
        }
        
        .output-section {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            padding: 25px;
            display: flex;
            flex-direction: column;
        }
        
        .section-title {
            font-size: 1.4rem;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ecf0f1;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: #3498db;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #34495e;
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .date-inputs {
            display: flex;
            gap: 15px;
        }
        
        .date-inputs .form-group {
            flex: 1;
        }
        
        .grid-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .output-display {
            background-color: #2c3e50;
            color: #ecf0f1;
            border-radius: 8px;
            padding: 20px;
            flex-grow: 1;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            line-height: 1.5;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }
        
        .output-display .bold-text {
            font-weight: bold;
            color: #f1c40f;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        button {
            padding: 14px 24px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
            flex: 1;
        }
        
        .copy-btn {
            background-color: #2ecc71;
            color: white;
        }
        
        .copy-btn:hover {
            background-color: #27ae60;
        }
        
        .reset-btn {
            background-color: #e74c3c;
            color: white;
        }
        
        .reset-btn:hover {
            background-color: #c0392b;
        }
        
        .update-btn {
            background-color: #3498db;
            color: white;
            width: 100%;
        }
        
        .update-btn:hover {
            background-color: #2980b9;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            background-color: #2ecc71;
            color: white;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s;
            z-index: 100;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .field-note {
            font-size: 0.85rem;
            color: #7f8c8d;
            margin-top: 5px;
            font-style: italic;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .whatsapp-note {
            background-color: #25D366;
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            margin-top: 15px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .report-type-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .report-type-btn {
            flex: 1;
            background-color: #ecf0f1;
            color: #7f8c8d;
            border: 2px solid #ddd;
        }
        
        .report-type-btn.active {
            background-color: #3498db;
            color: white;
            border-color: #2980b9;
        }
        
        .input-sections-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .input-sections-container {
                grid-template-columns: 1fr;
            }
            
            .grid-row {
                grid-template-columns: 1fr;
            }
        }
        
        .mine-inputs, .plant-inputs {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .mine-inputs h3, .plant-inputs h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .mine-inputs h3 i {
            color: #e74c3c;
        }
        
        .plant-inputs h3 i {
            color: #2ecc71;
        }
        
        .sub-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .remark-input {
            margin-top: 15px;
        }
        
        .remark-input textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.95rem;
            min-height: 80px;
            resize: vertical;
        }
        
        .mtd-inputs {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 6px;
            margin-top: 10px;
        }
        
        .mtd-inputs label {
            font-size: 0.9rem;
            color: #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-industry"></i> Complete Production Report Generator</h1>
            <p class="subtitle">Generate comprehensive mine and plant operations reports for WhatsApp</p>
        </header>
        
        <div class="app-container">
            <section class="input-section">
                <h2 class="section-title"><i class="fas fa-edit"></i> Input Details</h2>
                
                <div class="report-type-toggle">
                    <button class="report-type-btn active" id="basicBtn">Basic Report</button>
                    <button class="report-type-btn" id="fullBtn">Full Report</button>
                </div>
                
                <div id="basicInputs">
                    <div class="form-group">
                        <label for="site">Site Area</label>
                        <input type="text" id="site" placeholder="e.g., 9.0ha">
                    </div>
                    
                    <div class="date-inputs">
                        <div class="form-group">
                            <label for="reportDate">Report Date</label>
                            <input type="date" id="reportDate">
                        </div>
                        
                        <div class="form-group">
                            <label for="blastDate">Blasting Date</label>
                            <input type="date" id="blastDate">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Drilling (Today)</label>
                        <div class="grid-row">
                            <div>
                                <input type="number" id="holes" placeholder="Holes" min="0">
                            </div>
                            <div>
                                <input type="number" id="feet" placeholder="Feet" step="0.01" min="0">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Production Summary (Tons)</label>
                        <div class="grid-row">
                            <div>
                                <input type="number" id="totalTons" placeholder="Total" step="0.01" min="0">
                            </div>
                            <div>
                                <input type="number" id="aGrade" placeholder="A-Grade" step="0.01" min="0">
                            </div>
                            <div>
                                <input type="number" id="bGrade" placeholder="B-Grade" step="0.01" min="0">
                            </div>
                            <div>
                                <input type="number" id="weatherRock" placeholder="Weather Rock" step="0.01" min="0">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="compressors">Compressors (Nos.)</label>
                        <input type="number" id="compressors" placeholder="Number of compressors" min="0">
                    </div>
                    
                    <div class="form-group">
                        <label for="nmr">No. of NMR</label>
                        <input type="number" id="nmr" placeholder="Number of NMR" min="0">
                    </div>
                </div>
                
                <div id="fullInputs" style="display: none;">
                    <div class="form-group">
                        <label for="siteFull">Site Area</label>
                        <input type="text" id="siteFull" placeholder="e.g., 9.0ha">
                    </div>
                    
                    <div class="date-inputs">
                        <div class="form-group">
                            <label for="reportDateFull">Report Date</label>
                            <input type="date" id="reportDateFull">
                        </div>
                    </div>
                    
                    <div class="input-sections-container">
                        <div class="mine-inputs">
                            <h3><i class="fas fa-mountain"></i> Mine Operation</h3>
                            
                            <div class="form-group">
                                <label>No. of Compressors</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="compressorsFTD" placeholder="FTD" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="compressorsMTD" placeholder="MTD" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>No. of NMR</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="nmrFTD" placeholder="FTD" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="nmrMTD" placeholder="MTD" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>No. of Holes</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="holesFTD" placeholder="FTD" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="holesMTD" placeholder="MTD" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Total Feetage</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="feetageFTD" placeholder="FTD" step="0.01" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="feetageMTD" placeholder="MTD" step="0.01" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Production (Tons)</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="productionFTD" placeholder="FTD" step="0.01" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="productionMTD" placeholder="MTD" step="0.01" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>% of Recovery</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="recoveryFTD" placeholder="FTD" step="0.1" min="0" max="100">
                                    </div>
                                    <div>
                                        <input type="number" id="recoveryMTD" placeholder="MTD" step="0.1" min="0" max="100">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>% of Breaking</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="breakingFTD" placeholder="FTD" step="0.1" min="0" max="100">
                                    </div>
                                    <div>
                                        <input type="number" id="breakingMTD" placeholder="MTD" step="0.1" min="0" max="100">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group remark-input">
                                <label for="mineRemark">Remark (Mine)</label>
                                <textarea id="mineRemark" placeholder="e.g., Staggered Blasting Pattern"></textarea>
                            </div>
                        </div>
                        
                        <div class="plant-inputs">
                            <h3><i class="fas fa-industry"></i> Plant Operation</h3>
                            
                            <div class="form-group">
                                <label>Production (Tons)</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="plantProdFTD" placeholder="FTD" step="0.01" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="plantProdMTD" placeholder="MTD" step="0.01" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Running Hrs.</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="runningHrsFTD" placeholder="FTD" step="0.1" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="runningHrsMTD" placeholder="MTD" step="0.1" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>TPH</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="tphFTD" placeholder="FTD" step="0.01" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="tphMTD" placeholder="MTD" step="0.01" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Maintenance Hrs.</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="maintenanceFTD" placeholder="FTD" step="0.1" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="maintenanceMTD" placeholder="MTD" step="0.1" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Breakdown Hrs.</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="breakdownFTD" placeholder="FTD" step="0.1" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="breakdownMTD" placeholder="MTD" step="0.1" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Power Cut Hrs.</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="powerCutFTD" placeholder="FTD" step="0.1" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="powerCutMTD" placeholder="MTD" step="0.1" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Boulder Jam Hrs.</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="boulderJamFTD" placeholder="FTD" step="0.1" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="boulderJamMTD" placeholder="MTD" step="0.1" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>No Feed Hrs.</label>
                                <div class="sub-grid">
                                    <div>
                                        <input type="number" id="noFeedFTD" placeholder="FTD" step="0.1" min="0">
                                    </div>
                                    <div>
                                        <input type="number" id="noFeedMTD" placeholder="MTD" step="0.1" min="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group remark-input">
                                <label for="plantRemark">Remark (Plant)</label>
                                <textarea id="plantRemark" placeholder="e.g., Normal operation"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="update-btn" id="updateBtn">
                    <i class="fas fa-sync-alt"></i> Update Report
                </button>
            </section>
            
            <section class="output-section">
                <h2 class="section-title"><i class="fas fa-file-alt"></i> Output Report</h2>
                
                <div class="output-display" id="reportOutput">
*PRODUCTION REPORT* üöÄ
*Date:* 
*Site:* 

*DRILLING (Today)*
‚úÖ Holes: 
‚úÖ Feet: ft

*PRODUCTION SUMMARY*
üì¶ Total:  Tons
 ‚ñ´ A-Grade (Boulders):  T
‚ñ´ B-Grade (GSB):  T
‚ñ´ Weather Rock:  T

*ACTIVITY & EQUIPMENT*
üí• Blasting: Done ()
üîß Compressors:  Nos.
üë∑ No of NMR: 
                </div>
                
                <div class="button-group">
                    <button class="copy-btn" id="copyBtn">
                        <i class="far fa-copy"></i> Copy to Clipboard
                    </button>
                    <button class="resetBtn" id="resetBtn">
                        <i class="fas fa-redo"></i> Reset Form
                    </button>
                </div>
                
                <div style="margin-top: 20px;">
                    <div class="whatsapp-note">
                        <i class="fab fa-whatsapp"></i>
                        <span>After copying, paste directly into WhatsApp to share the report</span>
                    </div>
                </div>
            </section>
        </div>
        
        <footer>
            <p>Complete Production Report Generator &copy; 2025</p>
            <p>Includes both Mine and Plant Operations</p>
        </footer>
    </div>
    
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span>Report copied to clipboard!</span>
    </div>

    <script>
        // DOM Elements
        const basicBtn = document.getElementById('basicBtn');
        const fullBtn = document.getElementById('fullBtn');
        const basicInputs = document.getElementById('basicInputs');
        const fullInputs = document.getElementById('fullInputs');
        
        // Basic report elements
        const reportDateInput = document.getElementById('reportDate');
        const blastDateInput = document.getElementById('blastDate');
        const siteInput = document.getElementById('site');
        const holesInput = document.getElementById('holes');
        const feetInput = document.getElementById('feet');
        const totalTonsInput = document.getElementById('totalTons');
        const aGradeInput = document.getElementById('aGrade');
        const bGradeInput = document.getElementById('bGrade');
        const weatherRockInput = document.getElementById('weatherRock');
        const compressorsInput = document.getElementById('compressors');
        const nmrInput = document.getElementById('nmr');
        
        // Full report elements
        const siteFullInput = document.getElementById('siteFull');
        const reportDateFullInput = document.getElementById('reportDateFull');
        
        // Mine operation elements
        const compressorsFTDInput = document.getElementById('compressorsFTD');
        const compressorsMTDInput = document.getElementById('compressorsMTD');
        const nmrFTDInput = document.getElementById('nmrFTD');
        const nmrMTDInput = document.getElementById('nmrMTD');
        const holesFTDInput = document.getElementById('holesFTD');
        const holesMTDInput = document.getElementById('holesMTD');
        const feetageFTDInput = document.getElementById('feetageFTD');
        const feetageMTDInput = document.getElementById('feetageMTD');
        const productionFTDInput = document.getElementById('productionFTD');
        const productionMTDInput = document.getElementById('productionMTD');
        const recoveryFTDInput = document.getElementById('recoveryFTD');
        const recoveryMTDInput = document.getElementById('recoveryMTD');
        const breakingFTDInput = document.getElementById('breakingFTD');
        const breakingMTDInput = document.getElementById('breakingMTD');
        const mineRemarkInput = document.getElementById('mineRemark');
        
        // Plant operation elements
        const plantProdFTDInput = document.getElementById('plantProdFTD');
        const plantProdMTDInput = document.getElementById('plantProdMTD');
        const runningHrsFTDInput = document.getElementById('runningHrsFTD');
        const runningHrsMTDInput = document.getElementById('runningHrsMTD');
        const tphFTDInput = document.getElementById('tphFTD');
        const tphMTDInput = document.getElementById('tphMTD');
        const maintenanceFTDInput = document.getElementById('maintenanceFTD');
        const maintenanceMTDInput = document.getElementById('maintenanceMTD');
        const breakdownFTDInput = document.getElementById('breakdownFTD');
        const breakdownMTDInput = document.getElementById('breakdownMTD');
        const powerCutFTDInput = document.getElementById('powerCutFTD');
        const powerCutMTDInput = document.getElementById('powerCutMTD');
        const boulderJamFTDInput = document.getElementById('boulderJamFTD');
        const boulderJamMTDInput = document.getElementById('boulderJamMTD');
        const noFeedFTDInput = document.getElementById('noFeedFTD');
        const noFeedMTDInput = document.getElementById('noFeedMTD');
        const plantRemarkInput = document.getElementById('plantRemark');
        
        // Output elements
        const reportOutput = document.getElementById('reportOutput');
        const copyBtn = document.getElementById('copyBtn');
        const resetBtn = document.getElementById('resetBtn');
        const updateBtn = document.getElementById('updateBtn');
        const notification = document.getElementById('notification');
        
        let currentReportType = 'basic';
        
        // Set today's date as default
        const today = new Date();
        const todayFormatted = today.toISOString().split('T')[0];
        reportDateInput.value = todayFormatted;
        blastDateInput.value = todayFormatted;
        reportDateFullInput.value = todayFormatted;
        
        // Format date from YYYY-MM-DD to DD-MM-YYYY
        function formatDate(dateString) {
            const date = new Date(dateString);
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = date.getFullYear();
            return `${day}-${month}-${year}`;
        }
        
        // Format number with commas for thousands
        function formatNumberWithCommas(num) {
            if (num === '' || isNaN(num)) return '';
            return parseFloat(num).toLocaleString('en-IN');
        }
        
        // Format percentage
        function formatPercentage(num) {
            if (num === '' || isNaN(num)) return '';
            return parseFloat(num).toFixed(1) + '%';
        }
        
        // Generate basic report
        function generateBasicReport() {
            const reportDate = reportDateInput.value ? formatDate(reportDateInput.value) : '';
            const blastDate = blastDateInput.value ? formatDate(blastDateInput.value) : '';
            const site = siteInput.value || '';
            const holes = holesInput.value !== '' ? String(holesInput.value).padStart(2, '0') : '';
            const feet = feetInput.value !== '' ? parseFloat(feetInput.value).toFixed(2) : '';
            const totalTons = totalTonsInput.value !== '' ? parseFloat(totalTonsInput.value).toFixed(2) : '';
            const aGrade = aGradeInput.value !== '' ? parseFloat(aGradeInput.value).toFixed(2) : '';
            const bGrade = bGradeInput.value !== '' ? parseFloat(bGradeInput.value).toFixed(2) : '';
            const weatherRock = weatherRockInput.value !== '' ? parseFloat(weatherRockInput.value).toFixed(2) : '';
            const compressors = compressorsInput.value !== '' ? String(compressorsInput.value).padStart(2, '0') : '';
            const nmr = nmrInput.value || '';
            
            return `*PRODUCTION REPORT* üöÄ
*Date:* ${reportDate}
*Site:* ${site}

*DRILLING (Today)*
‚úÖ Holes: ${holes}
‚úÖ Feet: ${feet}${feet ? 'ft' : ''}

*PRODUCTION SUMMARY*
üì¶ Total: ${totalTons}${totalTons ? ' Tons' : ''}
 ‚ñ´ A-Grade (Boulders): ${aGrade}${aGrade ? ' T' : ''}
‚ñ´ B-Grade (GSB): ${bGrade}${bGrade ? ' T' : ''}
‚ñ´ Weather Rock: ${weatherRock}${weatherRock ? ' T' : ''}

*ACTIVITY & EQUIPMENT*
üí• Blasting: Done${blastDate ? ` (${blastDate})` : ''}
üîß Compressors: ${compressors}${compressors ? ' Nos.' : ''}
üë∑ No of NMR: ${nmr}`;
        }
        
        // Generate full report
        function generateFullReport() {
            const reportDate = reportDateFullInput.value ? formatDate(reportDateFullInput.value) : '';
            const site = siteFullInput.value || '';
            
            // Mine operation values
            const compressorsFTD = compressorsFTDInput.value !== '' ? formatNumberWithCommas(compressorsFTDInput.value) : '';
            const compressorsMTD = compressorsMTDInput.value !== '' ? formatNumberWithCommas(compressorsMTDInput.value) : '';
            const nmrFTD = nmrFTDInput.value !== '' ? formatNumberWithCommas(nmrFTDInput.value) : '';
            const nmrMTD = nmrMTDInput.value !== '' ? formatNumberWithCommas(nmrMTDInput.value) : '';
            const holesFTD = holesFTDInput.value !== '' ? formatNumberWithCommas(holesFTDInput.value) : '';
            const holesMTD = holesMTDInput.value !== '' ? formatNumberWithCommas(holesMTDInput.value) : '';
            const feetageFTD = feetageFTDInput.value !== '' ? formatNumberWithCommas(parseFloat(feetageFTDInput.value).toFixed(2)) : '';
            const feetageMTD = feetageMTDInput.value !== '' ? formatNumberWithCommas(parseFloat(feetageMTDInput.value).toFixed(2)) : '';
            const productionFTD = productionFTDInput.value !== '' ? formatNumberWithCommas(parseFloat(productionFTDInput.value).toFixed(2)) : '';
            const productionMTD = productionMTDInput.value !== '' ? formatNumberWithCommas(parseFloat(productionMTDInput.value).toFixed(2)) : '';
            const recoveryFTD = recoveryFTDInput.value !== '' ? formatPercentage(recoveryFTDInput.value) : '';
            const recoveryMTD = recoveryMTDInput.value !== '' ? formatPercentage(recoveryMTDInput.value) : '';
            const breakingFTD = breakingFTDInput.value !== '' ? formatPercentage(breakingFTDInput.value) : '';
            const breakingMTD = breakingMTDInput.value !== '' ? formatPercentage(breakingMTDInput.value) : '';
            const mineRemark = mineRemarkInput.value || '';
            
            // Plant operation values
            const plantProdFTD = plantProdFTDInput.value !== '' ? formatNumberWithCommas(parseFloat(plantProdFTDInput.value).toFixed(2)) : '';
            const plantProdMTD = plantProdMTDInput.value !== '' ? formatNumberWithCommas(parseFloat(plantProdMTDInput.value).toFixed(2)) : '';
            const runningHrsFTD = runningHrsFTDInput.value !== '' ? parseFloat(runningHrsFTDInput.value).toFixed(1) : '';
            const runningHrsMTD = runningHrsMTDInput.value !== '' ? parseFloat(runningHrsMTDInput.value).toFixed(1) : '';
            const tphFTD = tphFTDInput.value !== '' ? parseFloat(tphFTDInput.value).toFixed(2) : '';
            const tphMTD = tphMTDInput.value !== '' ? parseFloat(tphMTDInput.value).toFixed(2) : '';
            const maintenanceFTD = maintenanceFTDInput.value !== '' ? parseFloat(maintenanceFTDInput.value).toFixed(1) : '';
            const maintenanceMTD = maintenanceMTDInput.value !== '' ? parseFloat(maintenanceMTDInput.value).toFixed(1) : '';
            const breakdownFTD = breakdownFTDInput.value !== '' ? parseFloat(breakdownFTDInput.value).toFixed(1) : '';
            const breakdownMTD = breakdownMTDInput.value !== '' ? parseFloat(breakdownMTDInput.value).toFixed(1) : '';
            const powerCutFTD = powerCutFTDInput.value !== '' ? parseFloat(powerCutFTDInput.value).toFixed(1) : '';
            const powerCutMTD = powerCutMTDInput.value !== '' ? parseFloat(powerCutMTDInput.value).toFixed(1) : '';
            const boulderJamFTD = boulderJamFTDInput.value !== '' ? parseFloat(boulderJamFTDInput.value).toFixed(1) : '';
            const boulderJamMTD = boulderJamMTDInput.value !== '' ? parseFloat(boulderJamMTDInput.value).toFixed(1) : '';
            const noFeedFTD = noFeedFTDInput.value !== '' ? parseFloat(noFeedFTDInput.value).toFixed(1) : '';
            const noFeedMTD = noFeedMTDInput.value !== '' ? parseFloat(noFeedMTDInput.value).toFixed(1) : '';
            const plantRemark = plantRemarkInput.value || '';
            
            // Format the report with proper spacing for alignment
            return `*COMPLETE PRODUCTION REPORT* üè≠
*Date:* ${reportDate}
*Site:* ${site}

*MINE OPERATION* ‚õèÔ∏è\t\t\t*PLANT OPERATION* üèóÔ∏è
\t\tFTD\tMTD\t\t\tFTD\tMTD
No. of Compressors\t\t${compressorsFTD}\t${compressorsMTD}\tProduction\t\t${plantProdFTD}\t${plantProdMTD}
No. of NMR\t\t${nmrFTD}\t${nmrMTD}\tRunning Hrs.\t\t${runningHrsFTD}\t${runningHrsMTD}
No. of Holes\t\t${holesFTD}\t${holesMTD}\tTPH\t\t${tphFTD}\t${tphMTD}
Total Feetage\t\t${feetageFTD}\t${feetageMTD}\tMaintenance Hrs\t\t${maintenanceFTD}\t${maintenanceMTD}
Production\t\t${productionFTD}\t${productionMTD}\tBreakdown Hrs.\t\t${breakdownFTD}\t${breakdownMTD}
% of Recovery\t\t${recoveryFTD}\t${recoveryMTD}\tPower Cut Hrs.\t\t${powerCutFTD}\t${powerCutMTD}
% of Breaking\t\t${breakingFTD}\t${breakingMTD}\tBoulder Jam Hrs.\t\t${boulderJamFTD}\t${boulderJamMTD}
Remark\t${mineRemark}\t\tNo Feed Hrs.\t\t${noFeedFTD}\t${noFeedMTD}
\t\t\t\tRemark\t\t${plantRemark}`;
        }
        
        // Update the report display
        function updateReport() {
            let reportText, displayText;
            
            if (currentReportType === 'basic') {
                reportText = generateBasicReport();
                displayText = reportText.replace(/\*/g, '<span class="bold-text">').replace(/\*/g, '</span>');
            } else {
                reportText = generateFullReport();
                // Create HTML display for full report with proper formatting
                displayText = reportText
                    .replace(/\*/g, '<span class="bold-text">')
                    .replace(/\*/g, '</span>')
                    .replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;')
                    .replace(/\n/g, '<br>');
            }
            
            reportOutput.innerHTML = displayText;
        }
        
        // Copy report to clipboard
        function copyToClipboard() {
            const reportText = currentReportType === 'basic' ? generateBasicReport() : generateFullReport();
            
            navigator.clipboard.writeText(reportText)
                .then(() => {
                    // Show notification
                    notification.classList.add('show');
                    
                    // Hide notification after 3 seconds
                    setTimeout(() => {
                        notification.classList.remove('show');
                    }, 3000);
                })
                .catch(err => {
                    console.error('Failed to copy: ', err);
                    alert('Failed to copy to clipboard. Please select the text manually and copy.');
                });
        }
        
        // Reset form based on current report type
        function resetForm() {
            if (currentReportType === 'basic') {
                siteInput.value = "";
                reportDateInput.value = todayFormatted;
                blastDateInput.value = todayFormatted;
                holesInput.value = "";
                feetInput.value = "";
                totalTonsInput.value = "";
                aGradeInput.value = "";
                bGradeInput.value = "";
                weatherRockInput.value = "";
                compressorsInput.value = "";
                nmrInput.value = "";
            } else {
                siteFullInput.value = "";
                reportDateFullInput.value = todayFormatted;
                
                // Reset mine inputs
                compressorsFTDInput.value = "";
                compressorsMTDInput.value = "";
                nmrFTDInput.value = "";
                nmrMTDInput.value = "";
                holesFTDInput.value = "";
                holesMTDInput.value = "";
                feetageFTDInput.value = "";
                feetageMTDInput.value = "";
                productionFTDInput.value = "";
                productionMTDInput.value = "";
                recoveryFTDInput.value = "";
                recoveryMTDInput.value = "";
                breakingFTDInput.value = "";
                breakingMTDInput.value = "";
                mineRemarkInput.value = "";
                
                // Reset plant inputs
                plantProdFTDInput.value = "";
                plantProdMTDInput.value = "";
                runningHrsFTDInput.value = "";
                runningHrsMTDInput.value = "";
                tphFTDInput.value = "";
                tphMTDInput.value = "";
                maintenanceFTDInput.value = "";
                maintenanceMTDInput.value = "";
                breakdownFTDInput.value = "";
                breakdownMTDInput.value = "";
                powerCutFTDInput.value = "";
                powerCutMTDInput.value = "";
                boulderJamFTDInput.value = "";
                boulderJamMTDInput.value = "";
                noFeedFTDInput.value = "";
                noFeedMTDInput.value = "";
                plantRemarkInput.value = "";
            }
            
            updateReport();
        }
        
        // Switch between basic and full report modes
        function switchReportType(type) {
            currentReportType = type;
            
            if (type === 'basic') {
                basicBtn.classList.add('active');
                fullBtn.classList.remove('active');
                basicInputs.style.display = 'block';
                fullInputs.style.display = 'none';
            } else {
                basicBtn.classList.remove('active');
                fullBtn.classList.add('active');
                basicInputs.style.display = 'none';
                fullInputs.style.display = 'block';
            }
            
            updateReport();
        }
        
        // Event listeners
        updateBtn.addEventListener('click', updateReport);
        copyBtn.addEventListener('click', copyToClipboard);
        resetBtn.addEventListener('click', resetForm);
        basicBtn.addEventListener('click', () => switchReportType('basic'));
        fullBtn.addEventListener('click', () => switchReportType('full'));
        
        // Update report when any input changes
        const allInputs = document.querySelectorAll('input, textarea, select');
        allInputs.forEach(input => {
            input.addEventListener('input', updateReport);
        });
        
        // Initialize with basic report
        updateReport();
    </script>
</body>
</html>
