<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Production Report Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #3498db;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        h1 i {
            color: #e74c3c;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        .app-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            .app-container {
                grid-template-columns: 1fr;
            }
        }
        
        .input-section {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            padding: 25px;
        }
        
        .output-section {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            padding: 25px;
            display: flex;
            flex-direction: column;
        }
        
        .section-title {
            font-size: 1.4rem;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ecf0f1;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: #3498db;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #34495e;
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .date-inputs {
            display: flex;
            gap: 15px;
        }
        
        .date-inputs .form-group {
            flex: 1;
        }
        
        .production-grades {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .output-display {
            background-color: #2c3e50;
            color: #ecf0f1;
            border-radius: 8px;
            padding: 20px;
            flex-grow: 1;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            line-height: 1.5;
            margin-bottom: 20px;
        }
        
        /* Highlight bold titles in the preview */
        .output-display .bold-text {
            font-weight: bold;
            color: #f1c40f;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        button {
            padding: 14px 24px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
            flex: 1;
        }
        
        .copy-btn {
            background-color: #2ecc71;
            color: white;
        }
        
        .copy-btn:hover {
            background-color: #27ae60;
        }
        
        .reset-btn {
            background-color: #e74c3c;
            color: white;
        }
        
        .reset-btn:hover {
            background-color: #c0392b;
        }
        
        .update-btn {
            background-color: #3498db;
            color: white;
            width: 100%;
        }
        
        .update-btn:hover {
            background-color: #2980b9;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            background-color: #2ecc71;
            color: white;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s;
            z-index: 100;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .field-note {
            font-size: 0.85rem;
            color: #7f8c8d;
            margin-top: 5px;
            font-style: italic;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .whatsapp-note {
            background-color: #25D366;
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            margin-top: 15px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-industry"></i> Production Report Generator</h1>
            <p class="subtitle">Fill in the form below to generate a production report for WhatsApp</p>
        </header>
        
        <div class="app-container">
            <section class="input-section">
                <h2 class="section-title"><i class="fas fa-edit"></i> Input Details</h2>
                
                <div class="form-group">
                    <label for="site">Site Area</label>
                    <input type="text" id="site" placeholder="e.g., 9.0ha">
                </div>
                
                <div class="date-inputs">
                    <div class="form-group">
                        <label for="reportDate">Report Date</label>
                        <input type="date" id="reportDate">
                    </div>
                    
                    <div class="form-group">
                        <label for="blastDate">Blasting Date</label>
                        <input type="date" id="blastDate">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Drilling (Today)</label>
                    <div style="display: flex; gap: 15px;">
                        <div style="flex: 1;">
                            <input type="number" id="holes" placeholder="Holes" min="0">
                        </div>
                        <div style="flex: 1;">
                            <input type="number" id="feet" placeholder="Feet" step="0.01" min="0">
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Production Summary (Tons)</label>
                    <div class="production-grades">
                        <div>
                            <input type="number" id="totalTons" placeholder="Total" step="0.01" min="0">
                        </div>
                        <div>
                            <input type="number" id="aGrade" placeholder="A-Grade" step="0.01" min="0">
                        </div>
                        <div>
                            <input type="number" id="bGrade" placeholder="B-Grade" step="0.01" min="0">
                        </div>
                        <div>
                            <input type="number" id="weatherRock" placeholder="Weather Rock" step="0.01" min="0">
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="compressors">Compressors (Nos.)</label>
                    <input type="number" id="compressors" placeholder="Number of compressors" min="0">
                </div>
                
                <div class="form-group">
                    <label for="nmr">No. of NMR</label>
                    <input type="number" id="nmr" placeholder="Number of NMR" min="0">
                </div>
                
                <button class="update-btn" id="updateBtn">
                    <i class="fas fa-sync-alt"></i> Update Report
                </button>
            </section>
            
            <section class="output-section">
                <h2 class="section-title"><i class="fas fa-file-alt"></i> Output Report</h2>
                
                <div class="output-display" id="reportOutput">
PRODUCTION REPORT ðŸš€
Date: 
Site: 

DRILLING (Today)
âœ… Holes: 
âœ… Feet: ft

PRODUCTION SUMMARY
ðŸ“¦ Total:  Tons
 â–« A-Grade (Boulders):  T
â–« B-Grade (GSB):  T
â–« Weather Rock:  T

ACTIVITY & EQUIPMENT
ðŸ’¥ Blasting: Done ()
ðŸ”§ Compressors:  Nos.
ðŸ‘· No of NMR: 
                </div>
                
                <div class="button-group">
                    <button class="copy-btn" id="copyBtn">
                        <i class="far fa-copy"></i> Copy to Clipboard
                    </button>
                    <button class="reset-btn" id="resetBtn">
                        <i class="fas fa-redo"></i> Reset Form
                    </button>
                </div>
                
                <div style="margin-top: 20px;">
                    <div class="whatsapp-note">
                        <i class="fab fa-whatsapp"></i>
                        <span>After copying, paste directly into WhatsApp to share the report</span>
                    </div>
                </div>
            </section>
        </div>
        
        <footer>
            <p>Production Report Generator &copy; 2025</p>
        </footer>
    </div>
    
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span>Report copied to clipboard!</span>
    </div>

    <script>
        // DOM Elements
        const reportDateInput = document.getElementById('reportDate');
        const blastDateInput = document.getElementById('blastDate');
        const siteInput = document.getElementById('site');
        const holesInput = document.getElementById('holes');
        const feetInput = document.getElementById('feet');
        const totalTonsInput = document.getElementById('totalTons');
        const aGradeInput = document.getElementById('aGrade');
        const bGradeInput = document.getElementById('bGrade');
        const weatherRockInput = document.getElementById('weatherRock');
        const compressorsInput = document.getElementById('compressors');
        const nmrInput = document.getElementById('nmr');
        const reportOutput = document.getElementById('reportOutput');
        const copyBtn = document.getElementById('copyBtn');
        const resetBtn = document.getElementById('resetBtn');
        const updateBtn = document.getElementById('updateBtn');
        const notification = document.getElementById('notification');
        
        // Set today's date as default
        const today = new Date();
        const todayFormatted = today.toISOString().split('T')[0];
        reportDateInput.value = todayFormatted;
        blastDateInput.value = todayFormatted;
        
        // Format date from YYYY-MM-DD to DD-MM-YYYY
        function formatDate(dateString) {
            const date = new Date(dateString);
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = date.getFullYear();
            return `${day}-${month}-${year}`;
        }
        
        // Format number to two decimal places
        function formatNumber(num) {
            if (num === '' || isNaN(num)) return '';
            return parseFloat(num).toFixed(2);
        }
        
        // Generate the report text with bold formatting (always enabled)
        function generateReport() {
            const reportDate = reportDateInput.value ? formatDate(reportDateInput.value) : '';
            const blastDate = blastDateInput.value ? formatDate(blastDateInput.value) : '';
            const site = siteInput.value || '';
            const holes = holesInput.value !== '' ? String(holesInput.value).padStart(2, '0') : '';
            const feet = feetInput.value !== '' ? formatNumber(feetInput.value) : '';
            const totalTons = totalTonsInput.value !== '' ? formatNumber(totalTonsInput.value) : '';
            const aGrade = aGradeInput.value !== '' ? formatNumber(aGradeInput.value) : '';
            const bGrade = bGradeInput.value !== '' ? formatNumber(bGradeInput.value) : '';
            const weatherRock = weatherRockInput.value !== '' ? formatNumber(weatherRockInput.value) : '';
            const compressors = compressorsInput.value !== '' ? String(compressorsInput.value).padStart(2, '0') : '';
            const nmr = nmrInput.value || '';
            
            // Always use bold titles for WhatsApp formatting (*text*)
            const titleMain = "*PRODUCTION REPORT*";
            const titleDate = "*Date:*";
            const titleSite = "*Site:*";
            const titleDrilling = "*DRILLING (Today)*";
            const titleProduction = "*PRODUCTION SUMMARY*";
            const titleActivity = "*ACTIVITY & EQUIPMENT*";
            
            return `${titleMain} ðŸš€
${titleDate} ${reportDate}
${titleSite} ${site}

${titleDrilling}
âœ… Holes: ${holes}
âœ… Feet: ${feet}${feet ? 'ft' : ''}

${titleProduction}
ðŸ“¦ Total: ${totalTons}${totalTons ? ' Tons' : ''}
 â–« A-Grade (Boulders): ${aGrade}${aGrade ? ' T' : ''}
â–« B-Grade (GSB): ${bGrade}${bGrade ? ' T' : ''}
â–« Weather Rock: ${weatherRock}${weatherRock ? ' T' : ''}

${titleActivity}
ðŸ’¥ Blasting: Done${blastDate ? ` (${blastDate})` : ''}
ðŸ”§ Compressors: ${compressors}${compressors ? ' Nos.' : ''}
ðŸ‘· No of NMR: ${nmr}`;
        }
        
        // Update the report display with HTML for preview
        function updateReport() {
            const reportDate = reportDateInput.value ? formatDate(reportDateInput.value) : '';
            const blastDate = blastDateInput.value ? formatDate(blastDateInput.value) : '';
            const site = siteInput.value || '';
            const holes = holesInput.value !== '' ? String(holesInput.value).padStart(2, '0') : '';
            const feet = feetInput.value !== '' ? formatNumber(feetInput.value) : '';
            const totalTons = totalTonsInput.value !== '' ? formatNumber(totalTonsInput.value) : '';
            const aGrade = aGradeInput.value !== '' ? formatNumber(aGradeInput.value) : '';
            const bGrade = bGradeInput.value !== '' ? formatNumber(bGradeInput.value) : '';
            const weatherRock = weatherRockInput.value !== '' ? formatNumber(weatherRockInput.value) : '';
            const compressors = compressorsInput.value !== '' ? String(compressorsInput.value).padStart(2, '0') : '';
            const nmr = nmrInput.value || '';
            
            // Always show titles as bold in preview
            reportOutput.innerHTML = `<span class="bold-text">PRODUCTION REPORT</span> ðŸš€
<span class="bold-text">Date:</span> ${reportDate}
<span class="bold-text">Site:</span> ${site}

<span class="bold-text">DRILLING (Today)</span>
âœ… Holes: ${holes}
âœ… Feet: ${feet}${feet ? 'ft' : ''}

<span class="bold-text">PRODUCTION SUMMARY</span>
ðŸ“¦ Total: ${totalTons}${totalTons ? ' Tons' : ''}
 â–« A-Grade (Boulders): ${aGrade}${aGrade ? ' T' : ''}
â–« B-Grade (GSB): ${bGrade}${bGrade ? ' T' : ''}
â–« Weather Rock: ${weatherRock}${weatherRock ? ' T' : ''}

<span class="bold-text">ACTIVITY & EQUIPMENT</span>
ðŸ’¥ Blasting: Done${blastDate ? ` (${blastDate})` : ''}
ðŸ”§ Compressors: ${compressors}${compressors ? ' Nos.' : ''}
ðŸ‘· No of NMR: ${nmr}`;
        }
        
        // Copy report to clipboard
        function copyToClipboard() {
            const reportText = generateReport();
            
            navigator.clipboard.writeText(reportText)
                .then(() => {
                    // Show notification
                    notification.classList.add('show');
                    
                    // Hide notification after 3 seconds
                    setTimeout(() => {
                        notification.classList.remove('show');
                    }, 3000);
                })
                .catch(err => {
                    console.error('Failed to copy: ', err);
                    alert('Failed to copy to clipboard. Please select the text manually and copy.');
                });
        }
        
        // Reset form to empty values
        function resetForm() {
            siteInput.value = "";
            reportDateInput.value = todayFormatted;
            blastDateInput.value = todayFormatted;
            holesInput.value = "";
            feetInput.value = "";
            totalTonsInput.value = "";
            aGradeInput.value = "";
            bGradeInput.value = "";
            weatherRockInput.value = "";
            compressorsInput.value = "";
            nmrInput.value = "";
            
            updateReport();
        }
        
        // Event listeners
        updateBtn.addEventListener('click', updateReport);
        copyBtn.addEventListener('click', copyToClipboard);
        resetBtn.addEventListener('click', resetForm);
        
        // Update report when any input changes
        const allInputs = document.querySelectorAll('input, select');
        allInputs.forEach(input => {
            input.addEventListener('input', updateReport);
        });
        
        // Initialize with empty report
        updateReport();
    </script>
</body>
</html>
